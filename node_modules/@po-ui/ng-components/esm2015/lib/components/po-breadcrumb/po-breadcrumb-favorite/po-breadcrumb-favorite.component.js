import { Component, Input } from '@angular/core';
import { PoBreadcrumbFavoriteService } from './po-breadcrumb-favorite.service';
/**
 * @docsPrivate
 *
 * @description
 *
 * Componente que renderiza o serviÃ§o de favoritar do po-breadcrumb.
 */
export class PoBreadcrumbFavoriteComponent {
    constructor(service) {
        this.service = service;
        this.favorite = false;
    }
    ngOnInit() {
        this.service.configService(this.favoriteService, this.paramsService, this.itemActive);
        this.getStatusFavorite();
    }
    ngOnDestroy() {
        if (this.getSubscription) {
            this.getSubscription.unsubscribe();
        }
        if (this.setSubscription) {
            this.setSubscription.unsubscribe();
        }
    }
    toggleFavoriteAction() {
        this.favorite ? this.setStatusFavorite(false) : this.setStatusFavorite(true);
    }
    getStatusFavorite() {
        this.getSubscription = this.service.getFavorite().subscribe(result => (this.favorite = result.isFavorite));
    }
    setStatusFavorite(status) {
        this.setSubscription = this.service
            .sendStatusFavorite(status)
            .subscribe(result => (this.favorite = result.isFavorite));
    }
}
PoBreadcrumbFavoriteComponent.decorators = [
    { type: Component, args: [{
                selector: 'po-breadcrumb-favorite',
                template: "<div class=\"po-breadcrumb-favorite po-clickable\" (click)=\"toggleFavoriteAction()\">\n  <span\n    class=\"po-icon po-icon-star po-breadcrumb-favorite-star po-clickable\"\n    [class.po-breadcrumb-favorite-star-active]=\"favorite\"\n  >\n  </span>\n\n  <span class=\"po-hidden-sm po-breadcrumb-favorite-label\" *ngIf=\"favorite\">Desfavoritar</span>\n  <span class=\"po-hidden-sm po-breadcrumb-favorite-label\" *ngIf=\"!favorite\">Favoritar</span>\n</div>\n",
                providers: [PoBreadcrumbFavoriteService]
            },] }
];
PoBreadcrumbFavoriteComponent.ctorParameters = () => [
    { type: PoBreadcrumbFavoriteService }
];
PoBreadcrumbFavoriteComponent.propDecorators = {
    favoriteService: [{ type: Input, args: ['p-favorite-service',] }],
    itemActive: [{ type: Input, args: ['p-item-active',] }],
    paramsService: [{ type: Input, args: ['p-params-service',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tYnJlYWRjcnVtYi1mYXZvcml0ZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy91aS9zcmMvbGliL2NvbXBvbmVudHMvcG8tYnJlYWRjcnVtYi9wby1icmVhZGNydW1iLWZhdm9yaXRlL3BvLWJyZWFkY3J1bWItZmF2b3JpdGUuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFxQixNQUFNLGVBQWUsQ0FBQztBQUtwRSxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUUvRTs7Ozs7O0dBTUc7QUFNSCxNQUFNLE9BQU8sNkJBQTZCO0lBY3hDLFlBQW9CLE9BQW9DO1FBQXBDLFlBQU8sR0FBUCxPQUFPLENBQTZCO1FBYnhELGFBQVEsR0FBWSxLQUFLLENBQUM7SUFhaUMsQ0FBQztJQUU1RCxRQUFRO1FBQ04sSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN0RixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBRUQsV0FBVztRQUNULElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUN4QixJQUFJLENBQUMsZUFBZSxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ3BDO1FBRUQsSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFO1lBQ3hCLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDcEM7SUFDSCxDQUFDO0lBRUQsb0JBQW9CO1FBQ2xCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO0lBQy9FLENBQUM7SUFFTyxpQkFBaUI7UUFDdkIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUM3RyxDQUFDO0lBRU8saUJBQWlCLENBQUMsTUFBTTtRQUM5QixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxPQUFPO2FBQ2hDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQzthQUMxQixTQUFTLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDOUQsQ0FBQzs7O1lBaERGLFNBQVMsU0FBQztnQkFDVCxRQUFRLEVBQUUsd0JBQXdCO2dCQUNsQyx1ZEFBc0Q7Z0JBQ3RELFNBQVMsRUFBRSxDQUFDLDJCQUEyQixDQUFDO2FBQ3pDOzs7WUFiUSwyQkFBMkI7Ozs4QkFvQmpDLEtBQUssU0FBQyxvQkFBb0I7eUJBRzFCLEtBQUssU0FBQyxlQUFlOzRCQUdyQixLQUFLLFNBQUMsa0JBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25EZXN0cm95LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7IFBvQnJlYWRjcnVtYkl0ZW0gfSBmcm9tICcuLy4uL3BvLWJyZWFkY3J1bWItaXRlbS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUG9CcmVhZGNydW1iRmF2b3JpdGVTZXJ2aWNlIH0gZnJvbSAnLi9wby1icmVhZGNydW1iLWZhdm9yaXRlLnNlcnZpY2UnO1xuXG4vKipcbiAqIEBkb2NzUHJpdmF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIENvbXBvbmVudGUgcXVlIHJlbmRlcml6YSBvIHNlcnZpw6dvIGRlIGZhdm9yaXRhciBkbyBwby1icmVhZGNydW1iLlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdwby1icmVhZGNydW1iLWZhdm9yaXRlJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BvLWJyZWFkY3J1bWItZmF2b3JpdGUuY29tcG9uZW50Lmh0bWwnLFxuICBwcm92aWRlcnM6IFtQb0JyZWFkY3J1bWJGYXZvcml0ZVNlcnZpY2VdXG59KVxuZXhwb3J0IGNsYXNzIFBvQnJlYWRjcnVtYkZhdm9yaXRlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBmYXZvcml0ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGdldFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuICBwcml2YXRlIHNldFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuXG4gIC8vIFVSTCBkbyBzZXJ2acOnby5cbiAgQElucHV0KCdwLWZhdm9yaXRlLXNlcnZpY2UnKSBmYXZvcml0ZVNlcnZpY2U6IHN0cmluZztcblxuICAvLyBJdGVtIGRvIGJyZWFkY3J1bWIgYXRpdm8uXG4gIEBJbnB1dCgncC1pdGVtLWFjdGl2ZScpIGl0ZW1BY3RpdmU6IFBvQnJlYWRjcnVtYkl0ZW07XG5cbiAgLy8gUGFyw6JtZXRybyBxdWUgc2Vyw6EgZW52aWFkbyBqdW50byBjb20gbyBzZXJ2acOnbyBkZSBmYXZvcml0YXIuXG4gIEBJbnB1dCgncC1wYXJhbXMtc2VydmljZScpIHBhcmFtc1NlcnZpY2U6IG9iamVjdDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNlcnZpY2U6IFBvQnJlYWRjcnVtYkZhdm9yaXRlU2VydmljZSkge31cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnNlcnZpY2UuY29uZmlnU2VydmljZSh0aGlzLmZhdm9yaXRlU2VydmljZSwgdGhpcy5wYXJhbXNTZXJ2aWNlLCB0aGlzLml0ZW1BY3RpdmUpO1xuICAgIHRoaXMuZ2V0U3RhdHVzRmF2b3JpdGUoKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmdldFN1YnNjcmlwdGlvbikge1xuICAgICAgdGhpcy5nZXRTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zZXRTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlRmF2b3JpdGVBY3Rpb24oKSB7XG4gICAgdGhpcy5mYXZvcml0ZSA/IHRoaXMuc2V0U3RhdHVzRmF2b3JpdGUoZmFsc2UpIDogdGhpcy5zZXRTdGF0dXNGYXZvcml0ZSh0cnVlKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U3RhdHVzRmF2b3JpdGUoKSB7XG4gICAgdGhpcy5nZXRTdWJzY3JpcHRpb24gPSB0aGlzLnNlcnZpY2UuZ2V0RmF2b3JpdGUoKS5zdWJzY3JpYmUocmVzdWx0ID0+ICh0aGlzLmZhdm9yaXRlID0gcmVzdWx0LmlzRmF2b3JpdGUpKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0U3RhdHVzRmF2b3JpdGUoc3RhdHVzKSB7XG4gICAgdGhpcy5zZXRTdWJzY3JpcHRpb24gPSB0aGlzLnNlcnZpY2VcbiAgICAgIC5zZW5kU3RhdHVzRmF2b3JpdGUoc3RhdHVzKVxuICAgICAgLnN1YnNjcmliZShyZXN1bHQgPT4gKHRoaXMuZmF2b3JpdGUgPSByZXN1bHQuaXNGYXZvcml0ZSkpO1xuICB9XG59XG4iXX0=