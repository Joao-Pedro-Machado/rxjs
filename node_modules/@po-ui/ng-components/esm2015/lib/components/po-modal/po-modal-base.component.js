import { Input, EventEmitter, Directive } from '@angular/core';
import { convertToBoolean } from './../../utils/util';
/**
 * @description
 *
 * O componente `po-modal` é utilizado para incluir conteúdos rápidos e informativos.
 *
 * No cabeçalho do componente é possível definir um título e como também permite ocultar o ícone de fechamento da modal.
 *
 * Em seu corpo é possível definir um conteúdo informativo, podendo utilizar componentes como por exemplo `po-chart`,
 * `po-table` e os demais componentes do PO.
 *
 * No rodapé encontram-se os botões de ação primária e secundária, no qual permitem definir uma ação e um rótulo, bem como
 * definir um estado de carregando e / ou desabilitado. Também é possível definir o botão com o tipo *danger*.
 *
 * > É possível fechar a modal através da tecla *ESC*, quando a propriedade `p-hide-close` não estiver habilitada.
 */
export class PoModalBaseComponent {
    constructor() {
        this._hideClose = false;
        this._size = 'md';
        /**
         * Define o fechamento da modal ao clicar fora da mesma.
         * Informe o valor `true` para ativar o fechamento ao clicar fora da modal.
         */
        this.clickOut = false;
        // Controla se a modal fica oculto ou visível, por padrão é oculto
        this.isHidden = true;
        // Event emmiter para quando a modal é fechada pelo 'X'.
        this.onXClosed = new EventEmitter();
    }
    /**
     * Define o tamanho da modal.
     *
     * Valores válidos:
     *  - `sm` (pequeno)
     *  - `md` (médio)
     *  - `lg` (grande)
     *  - `xl` (extra grande)
     *  - `auto` (automático)
     *
     * > Quando informado `auto` a modal calculará automaticamente seu tamanho baseado em seu conteúdo.
     * Caso não seja informado um valor, a modal terá o tamanho definido como `md`.
     *
     * > Todas as opções de tamanho possuem uma largura máxima de **768px**.
     */
    set size(value) {
        const sizes = ['sm', 'md', 'lg', 'xl', 'auto'];
        this._size = sizes.indexOf(value) > -1 ? value : 'md';
    }
    get size() {
        return this._size;
    }
    set setClickOut(value) {
        this.clickOut = value === '' ? false : convertToBoolean(value);
    }
    /**
     * @optional
     *
     * @description
     *
     * Oculta o ícone de fechar do cabeçalho da modal.
     *
     * > Caso a propriedade estiver habilitada, não será possível fechar a modal através da tecla *ESC*.
     *
     * @default `false`
     */
    set hideClose(value) {
        this._hideClose = convertToBoolean(value);
    }
    get hideClose() {
        return this._hideClose;
    }
    /** Função para fechar a modal. */
    close(xClosed = false) {
        this.isHidden = true;
        if (xClosed) {
            this.onXClosed.emit(xClosed);
        }
    }
    /** Função para abrir a modal. */
    open() {
        this.validPrimaryAction();
        this.isHidden = false;
    }
    validPrimaryAction() {
        if (!this.primaryAction) {
            this.primaryAction = {
                action: () => this.close(),
                label: 'Ok'
            };
        }
        if (!this.primaryAction['action']) {
            this.primaryAction['action'] = () => this.close();
        }
        if (!this.primaryAction['label']) {
            this.primaryAction['label'] = 'Ok';
        }
    }
}
PoModalBaseComponent.decorators = [
    { type: Directive }
];
PoModalBaseComponent.propDecorators = {
    title: [{ type: Input, args: ['p-title',] }],
    primaryAction: [{ type: Input, args: ['p-primary-action',] }],
    secondaryAction: [{ type: Input, args: ['p-secondary-action',] }],
    size: [{ type: Input, args: ['p-size',] }],
    setClickOut: [{ type: Input, args: ['p-click-out',] }],
    hideClose: [{ type: Input, args: ['p-hide-close',] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG8tbW9kYWwtYmFzZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy91aS9zcmMvbGliL2NvbXBvbmVudHMvcG8tbW9kYWwvcG8tbW9kYWwtYmFzZS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRS9ELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBR3REOzs7Ozs7Ozs7Ozs7OztHQWNHO0FBRUgsTUFBTSxPQUFPLG9CQUFvQjtJQURqQztRQUVVLGVBQVUsR0FBYSxLQUFLLENBQUM7UUFDN0IsVUFBSyxHQUFZLElBQUksQ0FBQztRQXVDOUI7OztXQUdHO1FBQ0gsYUFBUSxHQUFhLEtBQUssQ0FBQztRQXdCM0Isa0VBQWtFO1FBQ2xFLGFBQVEsR0FBRyxJQUFJLENBQUM7UUFFaEIsd0RBQXdEO1FBQ2pELGNBQVMsR0FBRyxJQUFJLFlBQVksRUFBVyxDQUFDO0lBZ0NqRCxDQUFDO0lBeEZDOzs7Ozs7Ozs7Ozs7OztPQWNHO0lBQ0gsSUFBcUIsSUFBSSxDQUFDLEtBQWE7UUFDckMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUN4RCxDQUFDO0lBRUQsSUFBSSxJQUFJO1FBQ04sT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3BCLENBQUM7SUFPRCxJQUEwQixXQUFXLENBQUMsS0FBdUI7UUFDM0QsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFRDs7Ozs7Ozs7OztPQVVHO0lBQ0gsSUFBMkIsU0FBUyxDQUFDLEtBQWM7UUFDakQsSUFBSSxDQUFDLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRUQsSUFBSSxTQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3pCLENBQUM7SUFRRCxrQ0FBa0M7SUFDbEMsS0FBSyxDQUFDLE9BQU8sR0FBRyxLQUFLO1FBQ25CLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLElBQUksT0FBTyxFQUFFO1lBQ1gsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDOUI7SUFDSCxDQUFDO0lBRUQsaUNBQWlDO0lBQ2pDLElBQUk7UUFDRixJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUUxQixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztJQUN4QixDQUFDO0lBRUQsa0JBQWtCO1FBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxhQUFhLEdBQUc7Z0JBQ25CLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUMxQixLQUFLLEVBQUUsSUFBSTthQUNaLENBQUM7U0FDSDtRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ2pDLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ25EO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDaEMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUM7U0FDcEM7SUFDSCxDQUFDOzs7WUF6R0YsU0FBUzs7O29CQU1QLEtBQUssU0FBQyxTQUFTOzRCQU9mLEtBQUssU0FBQyxrQkFBa0I7OEJBR3hCLEtBQUssU0FBQyxvQkFBb0I7bUJBaUIxQixLQUFLLFNBQUMsUUFBUTswQkFjZCxLQUFLLFNBQUMsYUFBYTt3QkFlbkIsS0FBSyxTQUFDLGNBQWMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnB1dCwgRXZlbnRFbWl0dGVyLCBEaXJlY3RpdmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgY29udmVydFRvQm9vbGVhbiB9IGZyb20gJy4vLi4vLi4vdXRpbHMvdXRpbCc7XG5pbXBvcnQgeyBQb01vZGFsQWN0aW9uIH0gZnJvbSAnLi9wby1tb2RhbC1hY3Rpb24uaW50ZXJmYWNlJztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBPIGNvbXBvbmVudGUgYHBvLW1vZGFsYCDDqSB1dGlsaXphZG8gcGFyYSBpbmNsdWlyIGNvbnRlw7pkb3MgcsOhcGlkb3MgZSBpbmZvcm1hdGl2b3MuXG4gKlxuICogTm8gY2FiZcOnYWxobyBkbyBjb21wb25lbnRlIMOpIHBvc3PDrXZlbCBkZWZpbmlyIHVtIHTDrXR1bG8gZSBjb21vIHRhbWLDqW0gcGVybWl0ZSBvY3VsdGFyIG8gw61jb25lIGRlIGZlY2hhbWVudG8gZGEgbW9kYWwuXG4gKlxuICogRW0gc2V1IGNvcnBvIMOpIHBvc3PDrXZlbCBkZWZpbmlyIHVtIGNvbnRlw7pkbyBpbmZvcm1hdGl2bywgcG9kZW5kbyB1dGlsaXphciBjb21wb25lbnRlcyBjb21vIHBvciBleGVtcGxvIGBwby1jaGFydGAsXG4gKiBgcG8tdGFibGVgIGUgb3MgZGVtYWlzIGNvbXBvbmVudGVzIGRvIFBPLlxuICpcbiAqIE5vIHJvZGFww6kgZW5jb250cmFtLXNlIG9zIGJvdMO1ZXMgZGUgYcOnw6NvIHByaW3DoXJpYSBlIHNlY3VuZMOhcmlhLCBubyBxdWFsIHBlcm1pdGVtIGRlZmluaXIgdW1hIGHDp8OjbyBlIHVtIHLDs3R1bG8sIGJlbSBjb21vXG4gKiBkZWZpbmlyIHVtIGVzdGFkbyBkZSBjYXJyZWdhbmRvIGUgLyBvdSBkZXNhYmlsaXRhZG8uIFRhbWLDqW0gw6kgcG9zc8OtdmVsIGRlZmluaXIgbyBib3TDo28gY29tIG8gdGlwbyAqZGFuZ2VyKi5cbiAqXG4gKiA+IMOJIHBvc3PDrXZlbCBmZWNoYXIgYSBtb2RhbCBhdHJhdsOpcyBkYSB0ZWNsYSAqRVNDKiwgcXVhbmRvIGEgcHJvcHJpZWRhZGUgYHAtaGlkZS1jbG9zZWAgbsOjbyBlc3RpdmVyIGhhYmlsaXRhZGEuXG4gKi9cbkBEaXJlY3RpdmUoKVxuZXhwb3J0IGNsYXNzIFBvTW9kYWxCYXNlQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBfaGlkZUNsb3NlPzogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9zaXplPzogc3RyaW5nID0gJ21kJztcblxuICAvKiogVMOtdHVsbyBkYSBtb2RhbC4gKi9cbiAgQElucHV0KCdwLXRpdGxlJykgdGl0bGU6IHN0cmluZztcblxuICAvKipcbiAgICogRGV2ZSBzZXIgZGVmaW5pZG8gdW0gb2JqZXRvIHF1ZSBpbXBsZW1lbnRhIGEgaW50ZXJmYWNlIGBQb01vZGFsQWN0aW9uYCBjb250ZW5kbyBhIGxhYmVsIGUgYSBmdW7Dp8OjbyBkYSBwcmltZWlyYSBhw6fDo28uXG4gICAqIENhc28gZXN0YSBwcm9wcmllZGFkZSBuw6NvIHNlamEgZGVmaW5pZGEgb3UgZXN0ZWphIGluY29tcGxldGEsIGF1dG9tYXRpY2FtZW50ZSBzZXLDoSBhZGljaW9uYWRvIHVtIGJvdMOjbyBkZSBhw6fDo28gY29tXG4gICAqIGEgZnVuw6fDo28gZGUgZmVjaGFyIGEgbW9kYWwuXG4gICAqL1xuICBASW5wdXQoJ3AtcHJpbWFyeS1hY3Rpb24nKSBwcmltYXJ5QWN0aW9uPzogUG9Nb2RhbEFjdGlvbjtcblxuICAvKiogRGV2ZSBzZXIgZGVmaW5pZG8gdW0gb2JqZXRvIHF1ZSBpbXBsZW1lbnRhIGEgaW50ZXJmYWNlIGBQb01vZGFsQWN0aW9uYCBjb250ZW5kbyBhIGxhYmVsIGUgYSBmdW7Dp8OjbyBkYSBzZWd1bmRhIGHDp8Ojby4gKi9cbiAgQElucHV0KCdwLXNlY29uZGFyeS1hY3Rpb24nKSBzZWNvbmRhcnlBY3Rpb24/OiBQb01vZGFsQWN0aW9uO1xuXG4gIC8qKlxuICAgKiBEZWZpbmUgbyB0YW1hbmhvIGRhIG1vZGFsLlxuICAgKlxuICAgKiBWYWxvcmVzIHbDoWxpZG9zOlxuICAgKiAgLSBgc21gIChwZXF1ZW5vKVxuICAgKiAgLSBgbWRgIChtw6lkaW8pXG4gICAqICAtIGBsZ2AgKGdyYW5kZSlcbiAgICogIC0gYHhsYCAoZXh0cmEgZ3JhbmRlKVxuICAgKiAgLSBgYXV0b2AgKGF1dG9tw6F0aWNvKVxuICAgKlxuICAgKiA+IFF1YW5kbyBpbmZvcm1hZG8gYGF1dG9gIGEgbW9kYWwgY2FsY3VsYXLDoSBhdXRvbWF0aWNhbWVudGUgc2V1IHRhbWFuaG8gYmFzZWFkbyBlbSBzZXUgY29udGXDumRvLlxuICAgKiBDYXNvIG7Do28gc2VqYSBpbmZvcm1hZG8gdW0gdmFsb3IsIGEgbW9kYWwgdGVyw6EgbyB0YW1hbmhvIGRlZmluaWRvIGNvbW8gYG1kYC5cbiAgICpcbiAgICogPiBUb2RhcyBhcyBvcMOnw7VlcyBkZSB0YW1hbmhvIHBvc3N1ZW0gdW1hIGxhcmd1cmEgbcOheGltYSBkZSAqKjc2OHB4KiouXG4gICAqL1xuICBASW5wdXQoJ3Atc2l6ZScpIHNldCBzaXplKHZhbHVlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzaXplcyA9IFsnc20nLCAnbWQnLCAnbGcnLCAneGwnLCAnYXV0byddO1xuICAgIHRoaXMuX3NpemUgPSBzaXplcy5pbmRleE9mKHZhbHVlKSA+IC0xID8gdmFsdWUgOiAnbWQnO1xuICB9XG5cbiAgZ2V0IHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lIG8gZmVjaGFtZW50byBkYSBtb2RhbCBhbyBjbGljYXIgZm9yYSBkYSBtZXNtYS5cbiAgICogSW5mb3JtZSBvIHZhbG9yIGB0cnVlYCBwYXJhIGF0aXZhciBvIGZlY2hhbWVudG8gYW8gY2xpY2FyIGZvcmEgZGEgbW9kYWwuXG4gICAqL1xuICBjbGlja091dD86IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCdwLWNsaWNrLW91dCcpIHNldCBzZXRDbGlja091dCh2YWx1ZTogYm9vbGVhbiB8IHN0cmluZykge1xuICAgIHRoaXMuY2xpY2tPdXQgPSB2YWx1ZSA9PT0gJycgPyBmYWxzZSA6IGNvbnZlcnRUb0Jvb2xlYW4odmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvcHRpb25hbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogT2N1bHRhIG8gw61jb25lIGRlIGZlY2hhciBkbyBjYWJlw6dhbGhvIGRhIG1vZGFsLlxuICAgKlxuICAgKiA+IENhc28gYSBwcm9wcmllZGFkZSBlc3RpdmVyIGhhYmlsaXRhZGEsIG7Do28gc2Vyw6EgcG9zc8OtdmVsIGZlY2hhciBhIG1vZGFsIGF0cmF2w6lzIGRhIHRlY2xhICpFU0MqLlxuICAgKlxuICAgKiBAZGVmYXVsdCBgZmFsc2VgXG4gICAqL1xuICBASW5wdXQoJ3AtaGlkZS1jbG9zZScpIHNldCBoaWRlQ2xvc2UodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9oaWRlQ2xvc2UgPSBjb252ZXJ0VG9Cb29sZWFuKHZhbHVlKTtcbiAgfVxuXG4gIGdldCBoaWRlQ2xvc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hpZGVDbG9zZTtcbiAgfVxuXG4gIC8vIENvbnRyb2xhIHNlIGEgbW9kYWwgZmljYSBvY3VsdG8gb3Ugdmlzw612ZWwsIHBvciBwYWRyw6NvIMOpIG9jdWx0b1xuICBpc0hpZGRlbiA9IHRydWU7XG5cbiAgLy8gRXZlbnQgZW1taXRlciBwYXJhIHF1YW5kbyBhIG1vZGFsIMOpIGZlY2hhZGEgcGVsbyAnWCcuXG4gIHB1YmxpYyBvblhDbG9zZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGJvb2xlYW4+KCk7XG5cbiAgLyoqIEZ1bsOnw6NvIHBhcmEgZmVjaGFyIGEgbW9kYWwuICovXG4gIGNsb3NlKHhDbG9zZWQgPSBmYWxzZSk6IHZvaWQge1xuICAgIHRoaXMuaXNIaWRkZW4gPSB0cnVlO1xuICAgIGlmICh4Q2xvc2VkKSB7XG4gICAgICB0aGlzLm9uWENsb3NlZC5lbWl0KHhDbG9zZWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBGdW7Dp8OjbyBwYXJhIGFicmlyIGEgbW9kYWwuICovXG4gIG9wZW4oKTogdm9pZCB7XG4gICAgdGhpcy52YWxpZFByaW1hcnlBY3Rpb24oKTtcblxuICAgIHRoaXMuaXNIaWRkZW4gPSBmYWxzZTtcbiAgfVxuXG4gIHZhbGlkUHJpbWFyeUFjdGlvbigpIHtcbiAgICBpZiAoIXRoaXMucHJpbWFyeUFjdGlvbikge1xuICAgICAgdGhpcy5wcmltYXJ5QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICgpID0+IHRoaXMuY2xvc2UoKSxcbiAgICAgICAgbGFiZWw6ICdPaydcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnByaW1hcnlBY3Rpb25bJ2FjdGlvbiddKSB7XG4gICAgICB0aGlzLnByaW1hcnlBY3Rpb25bJ2FjdGlvbiddID0gKCkgPT4gdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMucHJpbWFyeUFjdGlvblsnbGFiZWwnXSkge1xuICAgICAgdGhpcy5wcmltYXJ5QWN0aW9uWydsYWJlbCddID0gJ09rJztcbiAgICB9XG4gIH1cbn1cbiJdfQ==